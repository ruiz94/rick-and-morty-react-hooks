{"version":3,"sources":["context/ThemeContext.js","components/Header.jsx","components/Search.jsx","hooks/useCharacter.js","components/Characters.jsx","App.js","index.js"],"names":["ThemeContext","React","createContext","Header","darkMode","handleOnClick","color","useContext","className","style","type","onClick","Search","search","searchInput","handleSearch","value","ref","onChange","useCharacters","url","useState","characters","setCharacters","nextPage","setNextPage","useEffect","a","axios","response","data","info","next","newCharacters","results","getData","initialState","favorites","favoriteReducer","state","action","payload","Characters","api","setApi","useReducer","dispatch","setSearch","useRef","useCallback","current","filterUsers","useMemo","filter","user","name","toLowerCase","includes","console","log","length","map","item","src","image","alt","id","Fragment","gender","species","status","favorite","App","setDarkMode","ReactDOM","render","StrictMode","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.8e1bb2ad.chunk.js","sourcesContent":["import React from 'react';\r\nconst ThemeContext = React.createContext(null);\r\n\r\nexport default ThemeContext;","\r\nimport './styles/header.css'\r\n\r\nimport { useContext } from 'react';\r\nimport ThemeContext from '../context/ThemeContext';\r\n\r\nconst Header = ({darkMode, handleOnClick}) => {\r\n  const color = useContext(ThemeContext);\r\n\r\n  return ( \r\n    <div className=\"header\">\r\n      <h1 style={{color}}>ReactHooks</h1>\r\n      <button \r\n        type=\"button\" \r\n        onClick={handleOnClick}\r\n        className={ darkMode ? 'darkMode' : 'lightMode'}>\r\n        { darkMode ? 'DarkMode' : 'LightMode'}\r\n      </button>\r\n    </div>\r\n   );\r\n}\r\n \r\nexport default Header;","\r\nconst Search = ({search, searchInput, handleSearch}) => {\r\n  return ( \r\n    <div className=\"search\">\r\n      <input type=\"text\" value={search} ref={searchInput} onChange={handleSearch} />\r\n    </div>\r\n   );\r\n}\r\n \r\nexport default Search;","import { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\n\r\nconst useCharacters = url => {\r\n  const [characters, setCharacters] = useState([]);\r\n  const [nextPage, setNextPage] = useState('');\r\n\r\n  useEffect( () => {\r\n    const getData = async () => {\r\n      const response = await axios(url, {\r\n        'mode': 'cors',\r\n        'headers': {\r\n            'Access-Control-Allow-Origin': 'https://ruiz94.github.io',\r\n        }\r\n    });\r\n      setNextPage(response.data.info.next);\r\n      const newCharacters = [...characters, ...response.data.results];\r\n      // console.log(newCharacters);\r\n      setCharacters(newCharacters);\r\n    }\r\n    getData();\r\n  }, [url]);\r\n\r\n  return [characters, nextPage];\r\n}\r\n\r\nexport default useCharacters;","import React, { useState, useReducer, useMemo, useRef, useCallback } from \"react\";\r\n\r\n\r\nimport './styles/character.css';\r\nimport Search from \"./Search\";\r\n\r\nimport useCharacters from \"../hooks/useCharacter\";\r\n\r\nconst initialState = {\r\n  favorites: []\r\n}\r\n\r\nconst API = 'https://rickandmortyapi.com/api/character';\r\n\r\nconst favoriteReducer = (state, action) => {\r\n  switch(action.type){\r\n    case 'ADD_TO_FAVORITE':\r\n      return {\r\n        ...state,\r\n        favorites: [...state.favorites, action.payload]\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst Characters = () => {\r\n  const [api, setApi] = useState(API);\r\n  const [characters, nextPage] = useCharacters(api);\r\n\r\n  const [{favorites}, dispatch] = useReducer(favoriteReducer, initialState);\r\n  const [search, setSearch] = useState('');\r\n  const searchInput = useRef(null);\r\n\r\n  const handleClick = (favorite) => {\r\n    const existe = favorites.filter( item => item.id === favorite.id);\r\n    if(existe.length) return;\r\n    dispatch({ type: 'ADD_TO_FAVORITE', payload: favorite})\r\n  }\r\n\r\n  // const handleSearch = () => {\r\n  //   setSearch(searchInput.current.value);\r\n  // }\r\n\r\n  // usamos useCallback\r\n  const handleSearch = useCallback(() => {\r\n    setSearch(searchInput.current.value);\r\n  }, [])\r\n\r\n  // const filterUsers = characters.filter( user => user.name.toLowerCase().includes(search.toLowerCase()));\r\n\r\n  // usando UseMemo\r\n  const filterUsers = useMemo( () => \r\n    characters.filter( user => user.name.toLowerCase().includes(search.toLowerCase())),\r\n    [characters, search]\r\n  );\r\n  console.log(nextPage);\r\n  return ( \r\n    <div className=\"container\">\r\n      {favorites.length > 0 && <h2 className=\"title-container\">Favoritos</h2>}\r\n      <div className=\"character-favoritos\">\r\n        {favorites.map(item => (\r\n          <div className=\"fav\" key={item.id}>\r\n            <img src={item.image} alt=\"favorito\" />\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <Search search={search} searchInput={searchInput} handleSearch={handleSearch}/>\r\n\r\n      <h2 className=\"title-container\">Characters</h2>\r\n      <div className=\"characters-container\">\r\n        {!filterUsers.length ? \r\n          <span className=\"no-characters\">Characters not found</span>\r\n        :\r\n          <React.Fragment>\r\n          {filterUsers.map(item => (\r\n            <div key={item.id} className=\"character\">\r\n              <img \r\n                className=\"character_img\" \r\n                src={item.image} alt=\"Character\" \r\n              />\r\n              <p className=\"character-name\">Nombre: <b>{item.name}</b></p>\r\n              <p>Genero: <b>{item.gender}</b></p>\r\n              <p>Especie: <b>{item.species}</b></p>\r\n              <p>Estatus: <b>{item.status}</b></p>\r\n              <button \r\n                type=\"button\" \r\n                onClick={() => handleClick(item)}\r\n              >Agregar a favoritos</button>\r\n            </div>\r\n          ))}\r\n            \r\n          </React.Fragment>\r\n        }\r\n        </div>\r\n        { (filterUsers.length && nextPage !== '') && \r\n        <button \r\n          className=\"btn-add-more\" \r\n          onClick={() => setApi(nextPage)}\r\n        >MÃ¡s \r\n          <span className=\"material-icons\">\r\n            add\r\n          </span>\r\n        </button>}\r\n    </div>\r\n   );\r\n}\r\n \r\nexport default Characters;","import { useState } from \"react\";\n\nimport './App.css';\nimport Header from './components/Header';\nimport Characters from './components/Characters';\n\nfunction App() {\n  const [darkMode, setDarkMode] = useState(false);\n  const handleOnClick = () => {\n    setDarkMode(!darkMode);\n  }\n  return (\n    <div className={`App ${darkMode ? 'darkMode' : 'lightMode'}`}>\n      <Header darkMode={darkMode} handleOnClick={handleOnClick}/>\n      <Characters/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport ThemeContext from './context/ThemeContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeContext.Provider value=\"#e76f51\">\n      <App />\n    </ThemeContext.Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}